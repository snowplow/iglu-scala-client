language: scala
os: linux
dist: trusty
scala:
- 2.12.11
- 2.13.2
jdk:
- openjdk8
addons:
  hostname: short-hostname
before_install:
- openssl aes-256-cbc -K $encrypted_38b5cd286219_key -iv $encrypted_38b5cd286219_iv -in project/travis-deploy-key.enc -out project/travis-deploy-key -d
- npm install -g snyk
script:
- sbt clean coverage +test
- sbt coverageReport
after_success:
- snyk monitor
- sbt coveralls
deploy:
  cleanup: false
  provider: script
  script: "./.travis/deploy.sh $TRAVIS_TAG"
  on:
    condition: '"${TRAVIS_SCALA_VERSION}" == "2.12.11"'
    tags: true
env:
  global:
  - secure: Qf1FGe4SzvvSr5mQzKzTVfdz5jjyKrFp6nCa8QDm1Uj+spuL4v17szzfhHdJqy5ELqowrf97z2ciESjBjajzrh5cdLpLqmMICMjbWEWDCVh3LQPXTxc4/Bv1sw4DY/saQUw2vt46K/O89oP2tKBruYjwLpgPnPUgnWZ284P5P4M=
  - secure: R3N94P7noue7/K2KOLjfxNVZV6Eft2emrU0zfh/qbkAwW6CF6w3gjVxRJwBzOhrsy5W4SU7r18Dft9/YS1QQOKw5HuBGNKnVytJxhkHPRB7EE/KrDnlQ0uHK9LAlQnwQzb74+iyQv6ONcrCF1M7xEnnkst8buZp4zoB8JXUA8bM=
  - secure: jh4RLrx+HoTmzgfvsxle8hWdAsz6m5M0qvaBu3VAGPnrM4NmRPyfyb08btlN+qLJOTEBilZGIKh+cYSE8NRJHXR+8iAKHikop8rOh6HqwaEl8A7SFy/Nx6RMys3Cy3yX5AVLHhgpu4absok4QlVplYhn2aK6EbYsM0VS1uyOztQ=
  - secure: ZdJH16Iz79TTwPCha92BuekZP07QsLAxMqaG4liH45ncK4TE+xfEE0lAmt2SqonPodXDbx94cFwjTEum0xFsEOp1ASsz393i265+qVKT+WwumpMe1/4Ta9UF6bAZMBQSeikgW7Qnh7uN2DVUKJ9LNrCg3xlBReWeqJC/1AjD+TM=
  - ENCRYPTION_LABEL: 38b5cd286219
  - secure: PQ/P9MzZt5vczMZBgrKQD2+lvFkwJJI644MxxUf1xX0SBocvyuB5xkjdlgmbQHtRW90WgiSJJ2AO+lj/SNc61zHyZaC1YrrPzbJZPTNzihcsWvKBJKdMOX3OpN3+eXmY5JgKcZ7MRiCIetuRkZ8LkdThl8DCFGvtPmNHayqpCOk=
  - secure: cAcmKufGhrguRB471CXwhcqBrcbQfgqhnRoH7VjlISpIKBEPAV6x8inrkGfaT99KCDtqLdDT59bZUy8IBiqn9Xijzd9dZkM6uU8WCecLN0gnE1WNPCicikSNYDOLnK+tFkWpZgfqy+jCu6BpRa49audc7rpy4tGv2w+JyIr9clo=
